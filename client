import socket,csv

# ouverture en lecture du fichier csv
with open('DonnéesClient2.csv', newline='') as fichier:
    # on crée un objet reader
    lecture = csv.reader(fichier, delimiter=';')

    # lecture et affichage des lignes:
    lignes = list(lecture)

host = lignes[0]
hosts = lignes[1]
port = lignes[2]
ports = lignes[3]

print(f"Le{host}")
print(f"est{hosts}")
print(f"Le{port}")
print(f"utilisé est{ports}")

print(f"ouverture de la socket sur le serveur {host} port {port}")
client_socket = socket.socket()
client_socket.connect((host, port))
print("serveur connecté")
message = ""
while message != 'disconnect'and 'kill' and 'reset':
    message = input(" message a envoyé :")
    client_socket.send(message.encode())
    print("message envoyé")

    data = client_socket.recv(1024).decode()
    print(f"message du serveur : {data}")

# fermeture de la socket du client
client_socket.close()
print("socket fermée")
